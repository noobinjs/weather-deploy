(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{11:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(5),i=n.n(a),s=(n(11),n(4)),o=n.n(s),u=n(6),j=n(2),l=c.a.createContext(),h=n(0);function b(){var e=Object(r.useContext)(l).getWeather,t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],a=n[1];return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{className:"form",onSubmit:function(t){return function(t){var n;t.preventDefault(),c.trim()&&(e((n=c).charAt(0).toUpperCase()+n.slice(1)),a(""))}(t)},children:[Object(h.jsx)("input",{value:c,onChange:function(e){return a(e.target.value)},placeholder:"Enter city"}),Object(h.jsx)("button",{children:" Get Weather"})]})})}function f(e){var t=Object(r.useContext)(l).removeCity;return Object(h.jsxs)("li",{className:"itemstyle",children:[Object(h.jsxs)("span",{children:[e.weather.city," \xa0 | ",e.weather.country," \xa0"," ",e.weather.temp," \xb0",Object(h.jsx)("img",{src:e.weather.icon,width:"32",alt:"weather"})]}),Object(h.jsx)("button",{onClick:function(){return t(e.weather.id)},children:"\xd7"})]})}function d(e){return Object(h.jsx)("ul",{children:e.weather.map((function(e,t){return Object(h.jsx)(f,{weather:e,index:t},e.id)}))})}var O=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(j.a)(a,2),s=i[0],f=i[1],O=Object(r.useState)(!1),p=Object(j.a)(O,2),x=p[0],m=p[1];function w(){return(w=Object(u.a)(o.a.mark((function e(t){var r,a,i,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.weatherapi.com/v1/current.json?key=f29a1cdfd9644875b39204230210111&q=".concat(t,"&aqi=no"));case 2:return r=e.sent,e.next=5,r.json();case 5:if(a=e.sent,i=a.current,s=a.location,!i){e.next=18;break}if(u="https://"+i.condition.icon.substring(2),console.log(u),!n.find((function(e){return e.city.includes(t)}))){e.next=15;break}return f(!0),setTimeout((function(){return f(!1)}),2e3),e.abrupt("return");case 15:c(n.concat([{city:s.name,country:s.country,temp:i.temp_c,id:Date.now(),icon:u}])),e.next=20;break;case 18:m(!0),setTimeout((function(){return m(!1)}),2e3);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){if(localStorage.getItem("weather")){var e=JSON.parse(localStorage.getItem("weather"));c(e)}}),[]),Object(r.useEffect)((function(){localStorage.setItem("weather",JSON.stringify(n))}),[n]),Object(h.jsx)(l.Provider,{value:{getWeather:function(e){return w.apply(this,arguments)},removeCity:function(e){c(n.filter((function(t){return t.id!==e})))}},children:Object(h.jsxs)("div",{className:"container",children:[n.length>0?Object(h.jsx)("span",{}):Object(h.jsx)("h1",{children:"Weather list"}),Object(h.jsx)(b,{}),s?Object(h.jsx)("span",{className:"already",children:"Already in list"}):"",x?Object(h.jsx)("span",{className:"already",children:"Unknown city"}):"",Object(h.jsx)(d,{weather:n})]})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(O,{})}),document.getElementById("root")),p()}},[[14,1,2]]]);
//# sourceMappingURL=main.d9da9137.chunk.js.map